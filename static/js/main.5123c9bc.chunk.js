(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a(28)},25:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(10),o=a.n(c),l=(a(25),a(11)),i=a(12),s=a(17),u=a(13),m=a(5),h=a(18),d=a(31),C=a(30),g=a(16),E=a(32),p=["","AUD","BGN","BRL","CAD","CHF","CNY","CZK","DKK","EUR","GBP","HKD","HRK","HUF","IDR","ILS","INR","ISK","JPY","KRW","MXN","MYR","NOK","NZD","PHP","PLN","RON","RUB","SEK","SGD","THB","TRY","USD","ZAR"],y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={accountCurrency:"",baseCurrency:"",quoteCurrency:"",action:"Buy",currentPrice:"",tradePrice:"",numberOfUnits:"",closingPrice:"",profit:"",validated:!1,showError:!1},a.onClick=a.onClick.bind(Object(m.a)(a)),a.handleChange=a.handleChange.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){var t=this,a=this.state,r=a.accountCurrency,n=a.baseCurrency,c=a.quoteCurrency;switch(e.target.id){case"AccountCurrency":c&&this.getRate(c,e.target.value).then(function(e){t.setState({currentPrice:e})}),this.setState({accountCurrency:e.target.value,profit:"",showError:!1});break;case"BaseCurrency":c&&this.getRate(e.target.value,c).then(function(e){t.setState({tradePrice:e})}),this.setState({baseCurrency:e.target.value,profit:"",showError:!1});break;case"QuoteCurrency":r&&this.getRate(e.target.value,r).then(function(e){t.setState({currentPrice:e})}),n&&this.getRate(n,e.target.value).then(function(e){t.setState({tradePrice:e})}),this.setState({quoteCurrency:e.target.value,profit:"",showError:!1});break;case"Action":this.setState({action:e.target.value,profit:""});break;case"ClosingPrice":var o=e.target.value,l=new RegExp(/^([0-9]+([.][0-9]*)?|[.][0-9]+)$/);(""===o||l.test(o))&&this.setState({closingPrice:e.target.value,profit:""});break;case"NumberOfUnits":var i=e.target.value,s=new RegExp(/^([0-9]+([.][0-9]*)?|[.][0-9]+)$/);(""===i||s.test(i))&&this.setState({numberOfUnits:e.target.value,profit:""});break;default:console.log("Unhandled event")}}},{key:"onClick",value:function(){if(this.isFormValid()){var e=this.state,t=e.action,a=e.currentPrice,r=e.tradePrice,n=e.numberOfUnits,c=(e.closingPrice-r)*a*n;"Sell"===t&&(c*=-1),c=c.toFixed(2),this.setState({validated:!1,profit:c})}else this.setState({validated:!0})}},{key:"getRate",value:function(e,t){var a=this;return fetch("https://api.exchangeratesapi.io/latest?base=".concat(e,"&symbols=").concat(t)).then(function(e){return e.json()}).then(function(e){return e.rates[t]}).catch(function(e){console.log(e),a.setState({showError:!0})})}},{key:"getCurrenciesAsOptions",value:function(){var e=0;return p.map(function(t){return n.a.createElement("option",{key:e++},t)})}},{key:"isFormValid",value:function(){var e=this.state,t=e.accountCurrency,a=e.baseCurrency,r=e.quoteCurrency,n=e.currentPrice,c=e.tradePrice,o=e.numberOfUnits,l=e.closingPrice;return t&&a&&r&&n&&c&&o&&l}},{key:"render",value:function(){var e=this.getCurrenciesAsOptions(),t=this.state,a=t.accountCurrency,r=t.baseCurrency,c=t.quoteCurrency,o=t.currentPrice,l=t.tradePrice,i=t.numberOfUnits,s=t.closingPrice,u=t.profit,m=t.validated,h=t.showError,p=u?"".concat(u," ").concat(a):"",y=o?"".concat(o," ").concat(c,"/").concat(a):"",b=l?"".concat(l," ").concat(r,"/").concat(c):"",v=n.a.createElement("p",{style:{color:"red"}},"Server connection error");return n.a.createElement("div",{style:{width:"400px",display:"block",margin:"auto",marginTop:"50px"}},n.a.createElement("h3",{style:{textAlign:"center",margin:"20px"}},"Profit calculator"),n.a.createElement(d.a,{noValidate:!0,validated:m},n.a.createElement(d.a.Group,{as:C.a,controlId:"AccountCurrency"},n.a.createElement(d.a.Label,{column:!0,sm:5},"Account currency"),n.a.createElement(g.a,{sm:7},n.a.createElement(d.a.Control,{as:"select",onChange:this.handleChange,required:!0},e))),n.a.createElement(d.a.Group,{as:C.a,controlId:"BaseCurrency"},n.a.createElement(d.a.Label,{column:!0,sm:5},"Base Currency"),n.a.createElement(g.a,{sm:7},n.a.createElement(d.a.Control,{as:"select",onChange:this.handleChange,required:!0},e))),n.a.createElement(d.a.Group,{as:C.a,controlId:"QuoteCurrency"},n.a.createElement(d.a.Label,{column:!0,sm:5},"Quote Currency"),n.a.createElement(g.a,{sm:7},n.a.createElement(d.a.Control,{as:"select",onChange:this.handleChange,required:!0},e))),n.a.createElement(d.a.Group,{as:C.a,controlId:"CurrenctPrice"},n.a.createElement(d.a.Label,{column:!0,sm:5},"Current price"),n.a.createElement(g.a,{sm:7},n.a.createElement(d.a.Control,{plaintext:!0,readOnly:!0,value:y}))),n.a.createElement(d.a.Group,{as:C.a,controlId:"TradePrice"},n.a.createElement(d.a.Label,{column:!0,sm:5},"TradePrice"),n.a.createElement(g.a,{sm:7},n.a.createElement(d.a.Control,{plaintext:!0,readOnly:!0,value:b}))),n.a.createElement(d.a.Group,{as:C.a,controlId:"Action"},n.a.createElement(d.a.Label,{column:!0,sm:5},"Action"),n.a.createElement(g.a,{sm:7},n.a.createElement(d.a.Control,{as:"select",onChange:this.handleChange},n.a.createElement("option",null,"Buy"),n.a.createElement("option",null,"Sell")))),n.a.createElement(d.a.Group,{as:C.a,controlId:"ClosingPrice"},n.a.createElement(d.a.Label,{column:!0,sm:5},"Closing price"),n.a.createElement(g.a,{sm:7},n.a.createElement(d.a.Control,{value:s,onChange:this.handleChange,required:!0}))),n.a.createElement(d.a.Group,{as:C.a,controlId:"NumberOfUnits"},n.a.createElement(d.a.Label,{column:!0,sm:5},"Number of units"),n.a.createElement(g.a,{sm:7},n.a.createElement(d.a.Control,{value:i,onChange:this.handleChange,required:!0}))),n.a.createElement(d.a.Group,null,n.a.createElement(E.a,{type:"button",onClick:this.onClick,id:"calculate-result-btn",style:{display:"block",margin:"auto"}},"Calculate")),n.a.createElement(d.a.Group,{as:C.a,controlId:"Profit"},n.a.createElement(d.a.Label,{column:!0,sm:5},"Profit"),n.a.createElement(g.a,{sm:7},n.a.createElement(d.a.Control,{plaintext:!0,readOnly:!0,value:p}))),h?v:null))}}]),t}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,1,2]]]);
//# sourceMappingURL=main.5123c9bc.chunk.js.map
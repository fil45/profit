(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a(28)},25:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),l=(a(25),a(11)),i=a(12),s=a(17),u=a(13),m=a(5),h=a(18),d=a(31),C=a(30),g=a(16),E=a(32),p=["","AUD","BGN","BRL","CAD","CHF","CNY","CZK","DKK","EUR","GBP","HKD","HRK","HUF","IDR","ILS","INR","ISK","JPY","KRW","MXN","MYR","NOK","NZD","PHP","PLN","RON","RUB","SEK","SGD","THB","TRY","USD","ZAR"],y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={accountCurrency:"",baseCurrency:"",quoteCurrency:"",action:"Buy",currentPrice:"",tradePrice:"",numberOfUnits:"",closingPrice:"",profit:"",validated:!1},a.onClick=a.onClick.bind(Object(m.a)(a)),a.handleChange=a.handleChange.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){var t=this,a=this.state,n=a.accountCurrency,r=a.baseCurrency,c=a.quoteCurrency;switch(e.target.id){case"AccountCurrency":c&&this.getRate(c,e.target.value).then(function(e){t.setState({currentPrice:e})}),this.setState({accountCurrency:e.target.value,profit:""});break;case"BaseCurrency":c&&this.getRate(e.target.value,c).then(function(e){t.setState({tradePrice:e})}),this.setState({baseCurrency:e.target.value,profit:""});break;case"QuoteCurrency":n&&this.getRate(e.target.value,n).then(function(e){t.setState({currentPrice:e})}),r&&this.getRate(r,e.target.value).then(function(e){t.setState({tradePrice:e})}),this.setState({quoteCurrency:e.target.value,profit:""});break;case"Action":this.setState({action:e.target.value,profit:""});break;case"ClosingPrice":var o=e.target.value,l=new RegExp(/^[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)$/);(""===o||l.test(o))&&this.setState({closingPrice:e.target.value,profit:""});break;case"NumberOfUnits":var i=e.target.value,s=new RegExp(/^[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)$/);(""===i||s.test(i))&&this.setState({numberOfUnits:e.target.value,profit:""});break;default:console.log("Unhandled event")}}},{key:"onClick",value:function(){if(this.isFormValid()){var e=this.state,t=e.action,a=e.currentPrice,n=e.tradePrice,r=e.numberOfUnits,c=(e.closingPrice-n)*a*r;"Sell"===t&&(c*=-1),c=c.toFixed(2),this.setState({validated:!1,profit:c})}else this.setState({validated:!0})}},{key:"getRate",value:function(e,t){return fetch("https://api.exchangeratesapi.io/latest?base=".concat(e,"&symbols=").concat(t)).then(function(e){return e.json()}).then(function(e){return e.rates[t]}).catch(function(e){console.log(e)})}},{key:"getCurrenciesAsOptions",value:function(){var e=0;return p.map(function(t){return r.a.createElement("option",{key:e++},t)})}},{key:"isFormValid",value:function(){var e=this.state,t=e.accountCurrency,a=e.baseCurrency,n=e.quoteCurrency,r=e.currentPrice,c=e.tradePrice,o=e.numberOfUnits,l=e.closingPrice;return!!(t&&a&&n&&r&&c&&o&&l)}},{key:"render",value:function(){console.log(this.state);var e=this.getCurrenciesAsOptions(),t=this.state,a=t.accountCurrency,n=t.baseCurrency,c=t.quoteCurrency,o=t.currentPrice,l=t.tradePrice,i=t.numberOfUnits,s=t.closingPrice,u=t.profit,m=t.validated,h=u?"".concat(u," ").concat(a):"",p=o?"".concat(o," ").concat(c,"/").concat(a):"",y=l?"".concat(l," ").concat(n,"/").concat(c):"";return r.a.createElement("div",{style:{width:"400px",display:"block",margin:"auto",marginTop:"50px"}},r.a.createElement("h3",{style:{textAlign:"center",margin:"20px"}},"Profit calculator"),r.a.createElement(d.a,{noValidate:!0,validated:m},r.a.createElement(d.a.Group,{as:C.a,controlId:"AccountCurrency"},r.a.createElement(d.a.Label,{column:!0,sm:5},"Account currency"),r.a.createElement(g.a,{sm:7},r.a.createElement(d.a.Control,{as:"select",onChange:this.handleChange,required:!0},e))),r.a.createElement(d.a.Group,{as:C.a,controlId:"BaseCurrency"},r.a.createElement(d.a.Label,{column:!0,sm:5},"Base Currency"),r.a.createElement(g.a,{sm:7},r.a.createElement(d.a.Control,{as:"select",onChange:this.handleChange,required:!0},e))),r.a.createElement(d.a.Group,{as:C.a,controlId:"QuoteCurrency"},r.a.createElement(d.a.Label,{column:!0,sm:5},"Quote Currency"),r.a.createElement(g.a,{sm:7},r.a.createElement(d.a.Control,{as:"select",onChange:this.handleChange,required:!0},e))),r.a.createElement(d.a.Group,{as:C.a,controlId:"CurrenctPrice"},r.a.createElement(d.a.Label,{column:!0,sm:5},"Current price"),r.a.createElement(g.a,{sm:7},r.a.createElement(d.a.Control,{plaintext:!0,readOnly:!0,value:p}))),r.a.createElement(d.a.Group,{as:C.a,controlId:"TradePrice"},r.a.createElement(d.a.Label,{column:!0,sm:5},"TradePrice"),r.a.createElement(g.a,{sm:7},r.a.createElement(d.a.Control,{plaintext:!0,readOnly:!0,value:y}))),r.a.createElement(d.a.Group,{as:C.a,controlId:"Action"},r.a.createElement(d.a.Label,{column:!0,sm:5},"Action"),r.a.createElement(g.a,{sm:7},r.a.createElement(d.a.Control,{as:"select",onChange:this.handleChange},r.a.createElement("option",null,"Buy"),r.a.createElement("option",null,"Sell")))),r.a.createElement(d.a.Group,{as:C.a,controlId:"ClosingPrice"},r.a.createElement(d.a.Label,{column:!0,sm:5},"Closing price"),r.a.createElement(g.a,{sm:7},r.a.createElement(d.a.Control,{value:s,onChange:this.handleChange,required:!0}))),r.a.createElement(d.a.Group,{as:C.a,controlId:"NumberOfUnits"},r.a.createElement(d.a.Label,{column:!0,sm:5},"Number of units"),r.a.createElement(g.a,{sm:7},r.a.createElement(d.a.Control,{value:i,onChange:this.handleChange,required:!0}))),r.a.createElement(d.a.Group,null,r.a.createElement(E.a,{type:"button",onClick:this.onClick,style:{display:"block",margin:"auto"}},"Calculate")),r.a.createElement(d.a.Group,{as:C.a,controlId:"Profit"},r.a.createElement(d.a.Label,{column:!0,sm:5},"Profit"),r.a.createElement(g.a,{sm:7},r.a.createElement(d.a.Control,{plaintext:!0,readOnly:!0,value:h})))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,1,2]]]);
//# sourceMappingURL=main.c9a34e17.chunk.js.map